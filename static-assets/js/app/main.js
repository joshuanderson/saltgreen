define(["./selector","./preloader","./events","./pages","./nav"],function(){var e=function(e,t,s,n,a){this.selector=new e,this.preloader=new t(this.selector),this.events=new s(this,this.selector),this.pages=new n(this.selector),this.nav=new a(this.selector,30,null)};return e.prototype._isArray=function(e){return!!e.length||!1},e.prototype._clearOverlay=function(e){e.style.display="block",e.className=""},e.prototype._addOverlayClass=function(e){if(this._isArray(e))for(var t=0;t<e.length;t++)e[t].className="hidden";else e.className="hidden"},e.prototype._removeOverlayStyle=function(e){if(this._isArray(e))for(var t=0;t<e.length;t++)e[t].style.display="none";else e.style.display="none"},e.prototype.addPageResizeEvents=function(){var e=this;this.events.addToWindow("resize",function(){e.pages.setAllHeightsWidths()})},e.prototype.addMenuItemsEvents=function(){var e,t,s=this.selector.find(".menu-item"),n=this;if(s)for(var a=0;a<s.length;a++)e=s[a],this.events.addToElement(e,"click",function(){t=this.dataset.page,t&&n.nav.anim("#"+t)})},e.prototype.addCloseOverlayEvents=function(){var e=this.selector.find("#overlay-background"),t=this.selector.find("#overlay-contact"),s=this.selector.find("#overlay-testimonials"),n=this.selector.find("#overlay-contact a.close",!0),a=this;this.events.addToElements([e,n],"click",function(){a._addOverlayClass([e,t,s]),a.resetHash(),a.selector.w.setTimeout(function(){a._removeOverlayStyle([t,e,s])},2e3)})},e.prototype.addMobileMenuEvents=function(){var e=this.selector.find(".mobile-menu"),t=this;this.events.addToElements(e,"click",function(){var e=t.selector.find("#menu");e.className="on"===e.className?"":"on"})},e.prototype.addOverlayEvents=function(){var e,t,s=this.selector.find("*[data-overlay]",!0),n=this.selector.find("#overlay-background"),a=this;if(s)for(var o=0;o<s.length;o++)e=s[o],this.events.addToElement(e,"click",function(){t=this.dataset.overlay,a._clearOverlay(a.selector.find("#overlay-"+t)),a._clearOverlay(n)})},e.prototype.checkHash=function(){var e,t=location.hash;""===t?this.resetHash():(e=this.selector.find('a[href="'+t+'"]',!0),this._isArray(e)&&e[0].click())},e.prototype.resetHash=function(){location.hash="#/home"},e.prototype.init=function(){var e=this;this.preloader.preloadImages(function(){e.pages.setAllHeightsWidths(),e.addPageResizeEvents(),e.addMenuItemsEvents(),e.addCloseOverlayEvents(),e.addOverlayEvents(),e.addMobileMenuEvents(),e.checkHash()})},e});